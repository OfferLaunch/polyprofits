---
description: Automatically run full git workflow when user says push to GitHub
alwaysApply: true
---

# Push to GitHub

When the user says **"push to github"**, **"push to GitHub"**, **"push"** (in the context of deploying code), or similar:

1. **Stage changes**: Run `git add -A` (or `git add` for modified files).
2. **Check status**: Run `git status`. If working tree is clean and already pushed, say so and stop.
3. **Commit if needed**: If there are staged changes, run `git commit` with a short, descriptive message (e.g. summarize the changes). If the user already described what changed, use that; otherwise infer from `git status`/diff.
4. **Push**: Run `git push origin main` (request network permission).
5. **If push fails** with `could not read Username` / `Device not configured` / authentication:
   - Tell the user the push must run in **their** terminal (View → Terminal, or Ctrl+` / Cmd+`).
   - Give them this one-liner:  
     `cd /Users/tylerteves/PolyProfits && git push origin main`

Do not ask "do you want me to push?" when they clearly said to push—just run the workflow.

**Optional (full automation):** If the user has set `GITHUB_TOKEN` or `GH_TOKEN` in their environment (e.g. Cursor env or a local `.env` that is gitignored), the agent can run:  
`git push https://$GITHUB_TOKEN@github.com/OfferLaunch/polyprofits.git main`  
so that push succeeds from the chat. Do not store tokens in the repo or in committed files.
